{"version":3,"sources":["components/problem_panel.js","components/add_field.js","problem/new.js","components/questionselect.js","components/question.js","components/clock.js","problem/solve.js","problem/today_problems.js","components/tree_modal.js","components/tree_addable.js","components/root_node.js","category/new.js","book/new.js","components/tree_updatable.js","category/edit.js","components/mde.js","blog/post.js","App.js","reportWebVitals.js","index.js"],"names":["TextArea","Input","counter","Panel","props","onTextClick","bind","onSelectClick","state","problem_counter","document","getElementById","value","type","onClick","this","Item","label","name","rows","id","Component","AnswerField","List","fields","add","remove","map","field","style","display","marginBottom","align","fieldKey","rules","required","message","MinusCircleOutlined","key","block","icon","PlusOutlined","layout","labelCol","span","wrapperCol","tailLayout","offset","ProblemNew","axios","defaults","baseURL","onChange","onFormatChange","onBookChange","onFinish","getFormats","getBooks","onFinishFailed","onRootSelectChange","root_categories","select_tree","categories","formats","books","panelShow","data","response_status","console","log","setState","format_id","books_id","get","then","res","catch","err","values","book_id","headers","common","csrfToken","method","url","problem","book","response","status","error","errorInfo","tmp","forEach","node","push","title","format","problem_type","getRootCategories","StatusBar","showSearch","width","placeholder","options","changeOnSelect","htmlType","QuestionSelect","index","QuestionBox","answer","noStyle","validateStatus","help","QuestionPanel","results","BodyDOM","question_box","body","length","split","isReturn","s","slice","join","replace","question_index","indexOf","result","FormattedDate","date","toLocaleTimeString","Clock","isStop","timerID","setInterval","tick","clearInterval","setSeconds","getSeconds","React","ProblemSolve","getQuestions","onNextClick","onFinishClick","formRef","createRef","questions","isShow","submitDisabled","nextDisabled","Date","clockStop","ok","answers","i","problem_id","correct","timesec","current","resetFields","next_btn","question_body","answer_list","row","toString","disabled","ref","gutter","ProblemTodaySolve","CollectionCreateForm","visible","onCreate","onCancel","target","Form","useForm","form","okText","cancelText","onOk","validateFields","info","TreeAddableObj","onDrop","dragObj","dropKey","dragKey","dragNode","dropPos","pos","dropPosition","Number","loop","callback","children","gData","item","arr","splice","dropToGap","expanded","unshift","ar","onRightClick","onSelect","selectedKeys","insert_node","targetObj","size","removeClick","expandedKeys","className","defaultExpandedKeys","draggable","blockNode","defaultExpandAll","onDragEnter","treeData","RootNode","CategoryNew","root_node","postCategories","handleButton","event","category","TreeAdd","BookNew","onChangeNumber","price","min","max","defaultValue","TreeUpdatableObj","removes","CategoryEdit","Tabs","TabPane","getCategories","MarkDownEditor","markdown","textValue","files","handleDrop","e","dataTransfer","file","alert","tmp2","events","BlogPost","SubMenu","Menu","Header","Layout","Content","Sider","App","theme","mode","defaultSelectedKeys","to","defaultOpenKeys","height","borderRight","EditFilled","UserOutlined","padding","path","margin","minHeight","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.514e57a2.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Input, Button, Form } from 'antd';\nimport 'antd/dist/antd.css';\n\nconst { TextArea } = Input;\n\nvar counter = 1;\n\nclass Panel extends Component{\n  constructor(props) {\n    super(props);\n    this.onTextClick = this.onTextClick.bind(this);\n    this.onSelectClick = this.onSelectClick.bind(this);\n    this.state = {\n      problem_counter: 0\n    }\n  }\n\n  onTextClick() {\n    document.getElementById('problem').value += `[box${counter}]`\n    counter += 1;\n  }\n  onSelectClick() {\n    document.getElementById('problem').value += `[select${counter}{1,}{2,}{3,}{4,}]`;\n  counter +=1;\n  }\n  render() {\n    return(\n      <>\n      <Button type=\"primary\" onClick={this.onTextClick}>\n        Text Input\n      </Button>\n      <Button type=\"primary\" onClick={this.onSelectClick}>\n        Text Select\n      </Button>\n      <Form.Item\n        label=\"Problem body\"\n        name=\"body\"\n      >\n        <TextArea rows={8} id=\"problem\"/>\n      </Form.Item>\n      </>\n    )\n  }\n}\nexport default Panel\n","import { Form, Input, Button, Space } from 'antd';\nimport { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons';\n\nconst AnswerField = () => {\n\n  return (\n      <Form.List name=\"answers\">\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map(field => (\n              <Space key={field.key} style={{ display: 'flex', marginBottom: 8 }} align=\"baseline\">\n                <Form.Item\n                  {...field}\n                  name={[field.name, 'answer']}\n                  fieldKey={[field.fieldKey, 'answer']}\n                  rules={[{ required: true, message: 'Enter Answer' }]}\n                >\n                  <Input />\n                </Form.Item>\n                <MinusCircleOutlined onClick={() => remove(field.name)} />\n              </Space>\n            ))}\n            <Form.Item>\n              <Button type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\n                Add field\n              </Button>\n            </Form.Item>\n          </>\n        )}\n      </Form.List>\n  );\n};\n\nexport default AnswerField\n","import React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { Cascader, Select, Form, Input, InputNumber, DatePicker, Button,Alert } from 'antd';\nimport ProblemPanel from '../components/problem_panel';\nimport AnswerField from '../components/add_field';\nimport axios from 'axios';\nimport { csrfToken } from 'rails-ujs'\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nclass ProblemNew extends Component{\n  constructor() {\n    super();\n    axios.defaults.baseURL = 'http://stagingaccessoryriver.net';\n    this.onChange = this.onChange.bind(this);\n    this.onFormatChange = this.onFormatChange.bind(this);\n    this.onBookChange = this.onBookChange.bind(this);\n    this.onFinish = this.onFinish.bind(this);\n    this.getFormats = this.getFormats.bind(this);\n    this.getBooks = this.getBooks.bind(this);\n    this.onFinishFailed = this.onFinishFailed.bind(this);\n    this.onRootSelectChange = this.onRootSelectChange.bind(this);\n    this.state = {\n      root_categories: [],\n      select_tree: [],\n      categories: [],\n      formats: [],\n      books: [],\n      panelShow: false,\n      data: {},\n      response_status: ''\n    }\n  }\n  onChange(value) {\n    console.log(value);\n    this.setState({categories: value});\n  }\n  onFormatChange(value) {\n    console.log(value);\n    let data = this.state.data;\n    data.format_id = value;\n    this.setState({data: data,panelShow: true});\n  }\n  onBookChange(value) {\n    console.log(value);\n    let data = this.state.data;\n    data.books_id = value;\n    this.setState({data: data});\n  }\n  onRootSelectChange(value) {\n    console.log(value);\n    axios.get(`/api/v1/categories/${value}`)\n      .then(res => {\n        console.log(res.data);\n        this.setState({select_tree:res.data});\n      }).catch(err => {\n        console.log('err:', err);\n    });\n  }\n  onFinish(values) {\n    let data;\n    values.categories = this.state.categories;\n    data = values.book_id;\n    delete values.book_id;\n    console.log('Success:', values);\n    axios.defaults.headers.common['X-CSRF-Token'] = csrfToken();\n    axios({\n      method : \"POST\",\n      url : \"/api/v1/problems\",\n      data : {problem: values,book: data}\n    })\n    .then((response)=> {\n      console.log(response);\n      this.setState({response_status: response.status == 201 ? 'success' : 'error'});\n    })\n    .catch((error)=> {\n      console.error(error);\n    });\n  };\n  onFinishFailed(errorInfo) {\n    console.log('Failed:', errorInfo);\n  };\n  getRootCategories() {\n    axios.get(`/api/v1/categories`)\n      .then(res => {\n        console.log(res.data);\n        let tmp = [];\n        res.data.forEach(node => tmp.push({value:node.id,label:node.title}))\n        this.setState({root_categories:tmp});\n      }).catch(err => {\n        console.log('err:', err);\n    });\n  }\n  getFormats() {\n    axios.get(`/api/v1/formats`)\n      .then(res => {\n        console.log(res.data);\n        let tmp = [];\n        res.data.forEach(format => tmp.push({value:format.id,label:format.problem_type}))\n        this.setState({formats:tmp});\n      }).catch(err => {\n        console.log('err:', err);\n    });\n  }\n  getBooks() {\n    axios.get(`/api/v1/books`)\n      .then(res => {\n        console.log(res.data);\n        let tmp = [];\n        res.data.forEach(book => tmp.push({value:book.id,label:book.title}));\n        this.setState({books:tmp});\n      }).catch(err => {\n        console.log('err:', err);\n    });\n  }\n  componentDidMount() {\n    this.getRootCategories();\n    this.getBooks();\n    this.getFormats();\n  }\n\n  render() {\n    let Panel,StatusBar;\n    if (this.state.panelShow) {\n      Panel = <ProblemPanel/>;\n    }\n    if (this.state.response_status != '') {\n      StatusBar = <Alert message={this.state.response_status} type={this.state.response_status} />;\n    }\n    return(\n      <>\n      {StatusBar}\n      <Select\n        showSearch\n        style={{ width: 200 }}\n        placeholder=\"Select a root category\"\n        onChange={this.onRootSelectChange}\n        options={this.state.root_categories}\n      ></Select>\n      <Form\n        {...layout}\n        name=\"basic\"\n        onFinish={this.onFinish}\n        onFinishFailed={this.onFinishFailed}\n      >\n        <Form.Item\n          label=\"Book title\"\n          name=\"book_id\"\n        >\n          <Select\n            showSearch\n            style={{ width: 200 }}\n            placeholder=\"Select a problem book\"\n            onChange={this.onBookChange}\n            options={this.state.books}\n          ></Select>\n        </Form.Item>\n        <Form.Item\n          label=\"Select Category\"\n          name=\"categories\"\n        >\n          <Cascader options={this.state.select_tree} onChange={this.onChange} placeholder=\"Please select\" changeOnSelect/>,\n        </Form.Item>\n        <Form.Item\n          label=\"Problem Format\"\n          name=\"format_id\"\n        >\n          <Select\n            showSearch\n            style={{ width: 200 }}\n            placeholder=\"Select a problem format\"\n            onChange={this.onFormatChange}\n            options={this.state.formats}\n          ></Select>\n        </Form.Item>\n\n        {Panel}\n\n        <AnswerField/>\n\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n      </>\n    )\n  }\n}\n\nexport default ProblemNew\n","import { Form, Input, Button, Checkbox, Select} from 'antd';\n\nconst QuestionSelect = ({options, onChange, index}) => {\n  return (\n    <Form.Item\n       name=\"answer\"\n       fieldKey={[index, 'answer']}\n     >\n       <Select\n         showSearch\n         style={{ width: 200 }}\n         placeholder=\"Select answer\"\n         onChange={onChange}\n         options={options}\n       ></Select>\n     </Form.Item>\n  )\n}\nexport default QuestionSelect;\n","import React, { Component } from 'react';\nimport { Input, Button, Form } from 'antd';\nimport QuestionSelect from '../components/questionselect';\nimport 'antd/dist/antd.css';\n\nconst { TextArea } = Input;\n\nvar counter = 1;\n\nconst QuestionBox = ({index,message,status,answer}) => {return <Form.Item noStyle name={[index,'answer']} validateStatus={status} help={answer}><input placeholder={message}/></Form.Item>;}\n\nclass QuestionPanel extends Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      results: props.results\n    }\n  }\n\n  render() {\n    let BodyDOM;\n    let question_box = this.props.body.length > 0?this.props.body.split(''):[];\n    let isReturn = true;\n    BodyDOM = question_box.map((s,index)=>{\n      if (s == '[') {\n        isReturn = false;\n        if (question_box.slice(index+1,index+4).join(',').replace(/,/g,'') == 'box'){\n          let question_index = question_box.slice(index+4,question_box.indexOf(']',index)).join(',').replace(/,/g,'');\n          return <QuestionBox\n          index={question_index}\n          message={'問'+(question_index)}\n          status={this.state.results.length>0?this.state.results[question_index].result:''}\n          answer={this.state.results.length>0?this.state.results[question_index].answer:''}\n          />;\n        }else if (question_box.slice(index+1,index+7).join(',').replace(/,/g,'') == 'select') {\n          return <QuestionSelect index={question_box.slice(index+4,index+5)} message={'問'+(question_box.slice(index+4,index+5))}/>;\n        }else {\n          return '<else>';\n        }\n      }else if (s == ']') {\n        isReturn = true;\n      }else if(isReturn){\n        return s;\n      }else{\n        return;\n      }\n    });\n    return(\n      <>\n        {BodyDOM}\n      </>\n    )\n  }\n}\nexport default QuestionPanel\n","import React from 'react';\n\nconst FormattedDate = (props) => {\n  return <h2>It is {props.date.toLocaleTimeString()}.</h2>;\n}\n\nclass Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: props.date,\n      isStop: props.isStop\n    };\n  }\n\n  componentDidMount() {\n    this.timerID = setInterval(\n      () => this.tick(),\n      1000\n    );\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  tick() {\n    let date = this.state.date;\n    date.setSeconds(date.getSeconds() + 1);\n    this.setState({\n      date: date\n    });\n  }\n\n  render() {\n    if (this.state.isStop) {\n      clearInterval(this.timerID);\n      this.setState({isStop:false});\n    }\n    return (\n      <div>\n        <FormattedDate date={this.state.date} />\n      </div>\n    );\n  }\n}\n\nexport default Clock;\n","import React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { Cascader, Select, Form, Input, InputNumber, DatePicker, Button, Alert, Card,Row, Col} from 'antd';\nimport ProblemPanel from '../components/problem_panel';\nimport QuestionPanel from '../components/question';\nimport Clock from '../components/clock';\nimport axios from 'axios';\nimport { csrfToken } from 'rails-ujs'\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nclass ProblemSolve extends Component{\n  constructor() {\n    super();\n    axios.defaults.baseURL = 'http://stagingaccessoryriver.net';\n    this.getQuestions = this.getQuestions.bind(this);\n    this.onFinishFailed = this.onFinishFailed.bind(this);\n    this.onFinish = this.onFinish.bind(this);\n    this.onNextClick = this.onNextClick.bind(this);\n    this.onFinishClick = this.onFinishClick.bind(this);\n    this.formRef = React.createRef();\n    this.state = {\n      data: [],\n      questions: [],\n      counter: 0,\n      results: [],\n      isShow: true,\n      submitDisabled: false,\n      nextDisabled: true,\n      date: new Date('2000/1/1'),\n      clockStop: false,\n      response_status: ''\n    }\n  }\n  getQuestions() {\n    axios.get(`/api/v1/problems/questions`)\n      .then(res => {\n        console.log(res);\n        this.setState({\n          questions:res.data,\n          isShow: res.data.length<=1?false:true\n        });\n      }).catch(err => {\n        console.log('err:', err);\n    });\n  }\n  onFinish(values) {\n    let results=[],ok=1;\n    let data = this.state.data;\n    this.state.questions[this.state.counter].answers.forEach((answer, i) => {\n      let result;\n      if (answer == values[i].answer) {\n        result = 'success';\n      }else {\n        result = 'error';\n        ok--;\n      }\n      results.push({result:result,answer:answer});\n    });\n    data.push(\n      {\n        problem_id: this.state.questions[this.state.counter].id,\n        correct: ok >= 0? true:false,\n        timesec: 400\n      }\n    );\n    this.setState({\n      results:results,\n      data: data,\n      date: new Date('2000/1/1'),\n      clockStop: true,\n      submitDisabled: true,\n      nextDisabled: false\n    });\n    console.log(this.state.questions[this.state.counter]);\n    console.log(this.state.data);\n  }\n  onFinishFailed(values) {\n    console.log(values);\n  }\n  onNextClick() {\n    if (this.state.questions.length == (this.state.counter+1)+1) {\n      this.setState({counter:this.state.counter+1,isShow:false});\n    }else{\n      this.setState({\n        counter:this.state.counter+1,\n        results: []\n      });\n    }\n    this.setState({submitDisabled: false,nextDisabled: true});\n    this.formRef.current.resetFields();\n  }\n  onFinishClick() {\n    axios({\n      method : \"POST\",\n      url : \"/api/v1/problems/analyze\",\n      data : {problem: this.state.data}\n    })\n    .then((response)=> {\n      console.log(response);\n      this.setState({response_status: response.status == 200 ? 'success' : 'error'});\n    })\n    .catch((error)=> {\n      console.error(error);\n    });\n  }\n  componentDidMount() {\n    this.getQuestions();\n  }\n\n  render() {\n    let question_body = this.state.questions.length > 0 ?\n      this.state.questions[this.state.counter].body : [];\n    let answer_list = this.state.results.map((row,i)=>{\n      let message = `問題${i+1} 答え: ${row.answer}`;\n      return <Col key={i.toString()}><Alert message={message} type={row.result}/></Col>;\n    });\n    let next_btn,StatusBar;\n    if (this.state.isShow) {\n      next_btn = <Button type=\"primary\" onClick={this.onNextClick} disabled={this.state.nextDisabled}>Next</Button>;\n    }else{\n      next_btn = <Button type=\"primary\" onClick={this.onFinishClick} disabled={this.state.nextDisabled}>Finish</Button>;\n    }\n    if (this.state.response_status != '') {\n      StatusBar = <Alert message={this.state.response_status} type={this.state.response_status} />;\n    }\n    return(\n      <>\n      {StatusBar}\n      <Clock date={this.state.date} isStop={this.state.clockStop}/>\n      <Form\n        {...layout}\n        name=\"basic\"\n        ref={this.formRef}\n        onFinish={this.onFinish}\n        onFinishFailed={this.onFinishFailed}\n      >\n        <Card title=\"以下の空欄を埋めなさい。\" style={{ width: 300 }}>\n          <QuestionPanel\n            body={question_body}\n            results={this.state.results}\n          />\n        </Card>\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\" disabled={this.state.submitDisabled}>\n            Submit\n          </Button>\n        </Form.Item>\n        {next_btn}\n      </Form>\n      <Row gutter={[16, 16]}>\n        {answer_list}\n      </Row>\n      </>\n    )\n  }\n}\n\nexport default ProblemSolve\n","import React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { Cascader, Select, Form, Input, InputNumber, DatePicker, Button, Alert, Card,Row, Col} from 'antd';\nimport ProblemPanel from '../components/problem_panel';\nimport QuestionPanel from '../components/question';\nimport Clock from '../components/clock';\nimport axios from 'axios';\nimport { csrfToken } from 'rails-ujs'\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nclass ProblemTodaySolve extends Component{\n  constructor() {\n    super();\n    axios.defaults.baseURL = 'http://stagingaccessoryriver.net';\n    this.getQuestions = this.getQuestions.bind(this);\n    this.onFinishFailed = this.onFinishFailed.bind(this);\n    this.onFinish = this.onFinish.bind(this);\n    this.onNextClick = this.onNextClick.bind(this);\n    this.onFinishClick = this.onFinishClick.bind(this);\n    this.formRef = React.createRef();\n    this.state = {\n      data: [],\n      questions: [],\n      counter: 0,\n      results: [],\n      isShow: true,\n      submitDisabled: false,\n      nextDisabled: true,\n      date: new Date('2000/1/1'),\n      clockStop: false,\n      response_status: ''\n    }\n  }\n  getQuestions() {\n    axios.get(`/api/v1/problems/today_questions`)\n      .then(res => {\n        console.log(res);\n        this.setState({\n          questions:res.data,\n          isShow: res.data.length<=1?false:true\n        });\n      }).catch(err => {\n        console.log('err:', err);\n    });\n  }\n  onFinish(values) {\n    let results=[],ok=1;\n    let data = this.state.data;\n    this.state.questions[this.state.counter].answers.forEach((answer, i) => {\n      let result;\n      if (answer == values[i].answer) {\n        result = 'success';\n      }else {\n        result = 'error';\n        ok--;\n      }\n      results.push({result:result,answer:answer});\n    });\n    data.push(\n      {\n        problem_id: this.state.questions[this.state.counter].id,\n        correct: ok >= 0? true:false,\n        timesec: 400\n      }\n    );\n    this.setState({\n      results:results,\n      data: data,\n      date: new Date('2000/1/1'),\n      clockStop: true,\n      submitDisabled: true,\n      nextDisabled: false\n    });\n    console.log(this.state.questions[this.state.counter]);\n    console.log(this.state.data);\n  }\n  onFinishFailed(values) {\n    console.log(values);\n  }\n  onNextClick() {\n    if (this.state.questions.length == (this.state.counter+1)+1) {\n      this.setState({counter:this.state.counter+1,isShow:false});\n    }else{\n      this.setState({\n        counter:this.state.counter+1,\n        results: []\n      });\n    }\n    this.setState({submitDisabled: false,nextDisabled: true});\n    this.formRef.current.resetFields();\n  }\n  onFinishClick() {\n\n    this.setState({response_status: 'success'});\n  }\n  componentDidMount() {\n    this.getQuestions();\n  }\n\n  render() {\n    let question_body = this.state.questions.length > 0 ?\n      this.state.questions[this.state.counter].body : [];\n    let answer_list = this.state.results.map((row,i)=>{\n      let message = `問題${i+1} 答え: ${row.answer}`;\n      return <Col key={i.toString()}><Alert message={message} type={row.result}/></Col>;\n    });\n    let next_btn,StatusBar;\n    if (this.state.isShow) {\n      next_btn = <Button type=\"primary\" onClick={this.onNextClick} disabled={this.state.nextDisabled}>Next</Button>;\n    }else{\n      next_btn = <Button type=\"primary\" onClick={this.onFinishClick} disabled={this.state.nextDisabled}>Finish</Button>;\n    }\n    if (this.state.response_status != '') {\n      StatusBar = <Alert message={this.state.response_status} type={this.state.response_status} />;\n    }\n    return(\n      <>\n      {StatusBar}\n      <Clock date={this.state.date} isStop={this.state.clockStop}/>\n      <Form\n        {...layout}\n        name=\"basic\"\n        ref={this.formRef}\n        onFinish={this.onFinish}\n        onFinishFailed={this.onFinishFailed}\n      >\n        <Card title=\"以下の空欄を埋めなさい。\" style={{ width: 300 }}>\n          <QuestionPanel\n            body={question_body}\n            results={this.state.results}\n          />\n        </Card>\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\" disabled={this.state.submitDisabled}>\n            Submit\n          </Button>\n        </Form.Item>\n        {next_btn}\n      </Form>\n      <Row gutter={[16, 16]}>\n        {answer_list}\n      </Row>\n      </>\n    )\n  }\n}\n\nexport default ProblemTodaySolve\n","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport '../index.css';\nimport { Button, Modal, Form, Input, Radio } from 'antd';\n\nconst CollectionCreateForm = ({ visible, onCreate, onCancel, onClick, target}) => {\n  const [form] = Form.useForm();\n\n\n  return (\n    <Modal\n      visible={visible}\n      title=\"Create a new collection\"\n      okText=\"Create\"\n      cancelText=\"Cancel\"\n      onCancel={() => {\n        onCancel();\n        form.resetFields();\n      }}\n      onOk={() => {\n        form\n          .validateFields()\n          .then((values) => {\n            form.resetFields();\n            onCreate(values);\n          })\n          .catch((info) => {\n            console.log('Validate Failed:', info);\n          });\n      }}\n    >\n    <Button type=\"primary\" onClick={onClick}>削除</Button>\n      <Form\n        form={form}\n        layout=\"vertical\"\n        name=\"form_in_modal\"\n      >\n        <Form.Item\n          name=\"node\"\n          label=\"Node Name\"\n          rules={[\n            {\n              required: true,\n              message: 'Please input the title of collection!',\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default CollectionCreateForm\n","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport '../index.css';\nimport { Tree } from 'antd';\nimport CollectionCreateForm from '../components/tree_modal'\n\nclass TreeAddableObj extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gData: props.gData,\n      expandedKeys: ['0','0-0', '0-0-0', '0-0-0-0'],\n      visible: false,\n      target: ''\n    };\n    this.onRightClick = this.onRightClick.bind(this);\n    this.onSelect = this.onSelect.bind(this);\n    this.onCreate     = this.onCreate.bind(this);\n    this.removeClick = this.removeClick.bind(this);\n  }\n\n\n  onDrop = info => {\n    const dropKey = info.node.key;\n    const dragKey = info.dragNode.key;\n    const dropPos = info.node.pos.split('-');\n    const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n\n    const loop = (data, key, callback) => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].key === key) {\n          return callback(data[i], i, data);\n        }\n        if (data[i].children) {\n          loop(data[i].children, key, callback);\n        }\n      }\n    };\n    const data = [...this.state.gData];\n\n    // Find dragObject\n    let dragObj;\n    loop(data, dragKey, (item, index, arr) => {\n      arr.splice(index, 1);\n      dragObj = item;\n    });\n\n    if (!info.dropToGap) {\n      // Drop on the content\n      loop(data, dropKey, item => {\n        item.children = item.children || [];\n        // where to insert 示例添加到头部，可以是随意位置\n        item.children.unshift(dragObj);\n      });\n    } else if (\n      (info.node.props.children || []).length > 0 && // Has children\n      info.node.props.expanded && // Is expanded\n      dropPosition === 1 // On the bottom gap\n    ) {\n      loop(data, dropKey, item => {\n        item.children = item.children || [];\n        // where to insert 示例添加到头部，可以是随意位置\n        item.children.unshift(dragObj);\n        // in previous version, we use item.children.push(dragObj) to insert the\n        // item to the tail of the children\n      });\n    } else {\n      let ar;\n      let i;\n      loop(data, dropKey, (item, index, arr) => {\n        ar = arr;\n        i = index;\n      });\n      if (dropPosition === -1) {\n        ar.splice(i, 0, dragObj);\n      } else {\n        ar.splice(i + 1, 0, dragObj);\n      }\n    }\n\n    this.setState({\n      gData: data,\n    });\n  };\n\n  onRightClick = info => {\n    this.setState({\n      target: info.node.key,\n      visible: true\n    });\n  }\n\n  onSelect = (selectedKeys: React.Key[], info: any) => {\n    console.log('selected', selectedKeys, info);\n  };\n\n  onCreate = (values) => {\n    this.setState({visible: false});\n    const data = [...this.state.gData];\n    const loop = (data, key, callback) => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].key === key) {\n          return callback(data[i], i, data);\n        }\n        if (data[i].children) {\n          loop(data[i].children, key, callback);\n        }\n      }\n    };\n    let insert_node;\n    let targetObj;\n    loop(data, this.state.target, (item, index, arr) => {\n      targetObj = item\n    });\n    if ((targetObj.children || []).length == 0) {\n      insert_node = [{title: values.node,key: targetObj.key+\"-0\"}]\n      loop(data, targetObj.key, item => {\n        item[\"children\"] = insert_node;\n      });\n    }else{\n      let size;\n      loop(data, targetObj.key, (item, index, arr) => {\n        size = item.children.length;\n      });\n      insert_node = {title: values.node,key: targetObj.key+\"-\"+size}\n      loop(data, targetObj.key, item => {\n        item.children.unshift(insert_node);\n      });\n    }\n    this.setState({\n      gData: data,\n    });\n  };\n\n  removeClick = () => {\n    const data = [...this.state.gData];\n    const loop = (data, key, callback) => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].key === key) {\n          return callback(data[i], i, data);\n        }\n        if (data[i].children) {\n          loop(data[i].children, key, callback);\n        }\n      }\n    };\n\n    loop(data, this.state.target, (item, index, arr) => {\n      arr.splice(index,1);\n    });\n    this.setState({gData: data});\n  }\n\n  render() {\n    return (\n      <>\n        <Tree\n          className=\"draggable-tree\"\n          defaultExpandedKeys={this.state.expandedKeys}\n          draggable\n          blockNode\n          defaultExpandAll\n          onRightClick={this.onRightClick}\n          onSelect={this.onSelect}\n          onDragEnter={this.onDragEnter}\n          onDrop={this.onDrop}\n          treeData={this.state.gData}\n        />\n        <CollectionCreateForm\n          visible={this.state.visible}\n          onCreate={this.onCreate}\n          onCancel={() => {\n            this.setState({visible: false});\n          }}\n          onClick={this.removeClick}\n          target={this.state.target}/>\n      </>\n    );\n  }\n}\n\nexport default TreeAddableObj\n","import { Form, Input, Button, Checkbox } from 'antd';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nconst RootNode = ({onFinish, onFinishFailed}) => {\n\n  return (\n    <Form\n      {...layout}\n      name=\"basic\"\n      onFinish={onFinish}\n      onFinishFailed={onFinishFailed}\n    >\n      <Form.Item\n        label=\"Root Node\"\n        name=\"root_node\"\n        rules={[{ required: true, message: 'Please input Root Node!' }]}\n      >\n        <Input />\n      </Form.Item>\n\n      <Form.Item {...tailLayout}>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n};\n\nexport default RootNode\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport { csrfToken } from 'rails-ujs'\nimport { Button } from 'antd'\nimport 'antd/dist/antd.css';\nimport TreeAddableObj from '../components/tree_addable';\nimport RootNode from '../components/root_node';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nclass CategoryNew extends Component{\n  constructor() {\n    super();\n    this.state = {\n      gData: [],\n      isShow: false\n    }\n    this.postCategories = this.postCategories.bind(this);\n    this.handleButton = this.handleButton.bind(this);\n  }\n  onFinish = (values: any) => {\n    console.log('Success:', values);\n    this.setState({gData:[{title: values.root_node, key:'0-0'}]})\n    this.setState({isShow: true});\n    console.log(this.state.gData);\n  };\n  onFinishFailed = (errorInfo: any) => {\n    console.log('Failed:', errorInfo);\n  };\n  handleButton() {\n    this.postCategories();\n    console.log(\"handleButton\");\n  }\n  postCategories(event) {\n    axios.defaults.baseURL = 'http://127.0.0.1:3000';\n    axios.defaults.headers.common['X-CSRF-Token'] = csrfToken();\n    axios({\n      method : \"POST\",\n      url : \"/api/v1/categories\",\n      data : {category: {data: this.state.gData}}\n    })\n    .then((response)=> {\n      console.log(response);\n    })\n    .catch((error)=> {\n      console.error(error);\n    });\n  }\n  render() {\n    let TreeAdd;\n    if (this.state.isShow) {\n      TreeAdd = <TreeAddableObj gData={this.state.gData}/>;\n    }\n    return(\n      <>\n        <RootNode onFinish={this.onFinish} onFinishFailed={this.onFinishFailed}/>\n        {TreeAdd}\n        <Button\n          type=\"primary\"\n          onClick={this.handleButton}\n        >\n          Post Categories\n        </Button>\n        <p>category new</p>\n      </>\n    )\n  }\n}\nexport default CategoryNew\n","import React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { Cascader, Select, Form, Input, InputNumber, DatePicker, Button} from 'antd';\nimport axios from 'axios';\nimport { csrfToken } from 'rails-ujs'\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nclass BookNew extends Component{\n  constructor() {\n    super();\n    axios.defaults.baseURL = 'http://stagingaccessoryriver.net';\n    this.onChange = this.onChange.bind(this);\n    this.onChangeNumber = this.onChangeNumber.bind(this);\n    this.onFinish = this.onFinish.bind(this);\n    this.onFinishFailed = this.onFinishFailed.bind(this);\n    this.onRootSelectChange = this.onRootSelectChange.bind(this);\n    this.state = {\n      root_categories: [],\n      select_tree: [],\n      categories: [],\n      price: -1\n    }\n  }\n  onChange(value) {\n    console.log(value);\n    this.setState({categories: value});\n  }\n  onChangeNumber(value) {\n    this.setState({price: value});\n  }\n  onRootSelectChange(value) {\n    console.log(value);\n    axios.get(`/api/v1/categories/${value}`)\n      .then(res => {\n        console.log(res.data);\n        this.setState({select_tree:res.data});\n      }).catch(err => {\n        console.log('err:', err);\n    });\n  }\n  onFinish(values) {\n    console.log('Success:', values);\n    values.categories = this.state.categories;\n    values.price = this.state.price;\n    axios.defaults.headers.common['X-CSRF-Token'] = csrfToken();\n    axios({\n      method : \"POST\",\n      url : \"/api/v1/books\",\n      data : {book: values}\n    })\n    .then((response)=> {\n      console.log(response);\n    })\n    .catch((error)=> {\n      console.error(error);\n    });\n  };\n  onFinishFailed(errorInfo) {\n    console.log('Failed:', errorInfo);\n  };\n  getRootCategories() {\n    axios.get(`/api/v1/categories`)\n      .then(res => {\n        console.log(res.data);\n        let tmp = [];\n        res.data.forEach(node => tmp.push({value:node.id,label:node.title}))\n        this.setState({root_categories:tmp});\n      }).catch(err => {\n        console.log('err:', err);\n    });\n  }\n  componentDidMount() {\n    this.getRootCategories();\n  }\n  render() {\n    return(\n      <>\n      <Select\n        showSearch\n        style={{ width: 200 }}\n        placeholder=\"Select a root category\"\n        onChange={this.onRootSelectChange}\n        options={this.state.root_categories}\n      ></Select>\n      <Form\n        {...layout}\n        name=\"basic\"\n        onFinish={this.onFinish}\n        onFinishFailed={this.onFinishFailed}\n      >\n        <Form.Item\n          label=\"Book title\"\n          name=\"title\"\n          rules={[{ required: true, message: 'Please input Book title.' }]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label=\"Book price\"\n          name=\"price\"\n        >\n          <InputNumber min={1} max={100000} onChange={this.onChangeNumber} defaultValue={1000}/>\n        </Form.Item>\n        <Form.Item\n          label=\"Select Category\"\n          name=\"categories\"\n        >\n          <Cascader options={this.state.select_tree} onChange={this.onChange} placeholder=\"Please select\" changeOnSelect/>,\n        </Form.Item>\n        <Form.Item\n          label=\"Book published Date\"\n          name=\"published_at\"\n          rules={[{ required: true, message: 'Please input Book published date.' }]}\n        >\n          <DatePicker />\n        </Form.Item>\n\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n      </>\n    )\n  }\n}\n\nexport default BookNew\n","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport '../index.css';\nimport { Tree } from 'antd';\nimport CollectionCreateForm from '../components/tree_modal'\n\nclass TreeUpdatableObj extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gData: props.gData,\n      expandedKeys: ['0','0-0', '0-0-0', '0-0-0-0'],\n      visible: false,\n      target: '',\n      removes:props.removes\n    };\n    this.onRightClick = this.onRightClick.bind(this);\n    this.onSelect = this.onSelect.bind(this);\n    this.onCreate     = this.onCreate.bind(this);\n    this.removeClick = this.removeClick.bind(this);\n  }\n\n\n  onDrop = info => {\n    const dropKey = info.node.key;\n    const dragKey = info.dragNode.key;\n    const dropPos = info.node.pos.split('-');\n    const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n\n    const loop = (data, key, callback) => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].key === key) {\n          return callback(data[i], i, data);\n        }\n        if (data[i].children) {\n          loop(data[i].children, key, callback);\n        }\n      }\n    };\n    const data = [...this.state.gData];\n\n    // Find dragObject\n    let dragObj;\n    loop(data, dragKey, (item, index, arr) => {\n      arr.splice(index, 1);\n      dragObj = item;\n    });\n\n    if (!info.dropToGap) {\n      // Drop on the content\n      loop(data, dropKey, item => {\n        item.children = item.children || [];\n        // where to insert 示例添加到头部，可以是随意位置\n        item.children.unshift(dragObj);\n      });\n    } else if (\n      (info.node.props.children || []).length > 0 && // Has children\n      info.node.props.expanded && // Is expanded\n      dropPosition === 1 // On the bottom gap\n    ) {\n      loop(data, dropKey, item => {\n        item.children = item.children || [];\n        // where to insert 示例添加到头部，可以是随意位置\n        item.children.unshift(dragObj);\n        // in previous version, we use item.children.push(dragObj) to insert the\n        // item to the tail of the children\n      });\n    } else {\n      let ar;\n      let i;\n      loop(data, dropKey, (item, index, arr) => {\n        ar = arr;\n        i = index;\n      });\n      if (dropPosition === -1) {\n        ar.splice(i, 0, dragObj);\n      } else {\n        ar.splice(i + 1, 0, dragObj);\n      }\n    }\n\n    this.setState({\n      gData: data,\n    });\n  };\n\n  onRightClick = info => {\n    this.setState({\n      target: info.node.key,\n      visible: true\n    });\n  }\n\n  onSelect = (selectedKeys: React.Key[], info: any) => {\n    console.log('selected', selectedKeys, info);\n  };\n\n  onCreate = (values) => {\n    this.setState({visible: false});\n    const data = [...this.state.gData];\n    const loop = (data, key, callback) => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].key === key) {\n          return callback(data[i], i, data);\n        }\n        if (data[i].children) {\n          loop(data[i].children, key, callback);\n        }\n      }\n    };\n    let insert_node;\n    let targetObj;\n    loop(data, this.state.target, (item, index, arr) => {\n      targetObj = item\n    });\n    if ((targetObj.children || []).length == 0) {\n      insert_node = [{title: values.node,key: targetObj.key+\"-0\"}]\n      loop(data, targetObj.key, item => {\n        item[\"children\"] = insert_node;\n      });\n    }else{\n      let size;\n      loop(data, targetObj.key, (item, index, arr) => {\n        size = item.children.length;\n      });\n      insert_node = {title: values.node,key: targetObj.key+\"-\"+size}\n      loop(data, targetObj.key, item => {\n        item.children.unshift(insert_node);\n      });\n    }\n    this.setState({\n      gData: data,\n    });\n  };\n\n  removeClick = () => {\n    const data = [...this.state.gData];\n    const loop = (data, key, callback) => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].key === key) {\n          return callback(data[i], i, data);\n        }\n        if (data[i].children) {\n          loop(data[i].children, key, callback);\n        }\n      }\n    };\n\n    loop(data, this.state.target, (item, index, arr) => {\n      var tmp = this.state.removes\n      tmp.push(item['value']);\n      this.setState({removes:tmp});\n      arr.splice(index,1);\n    });\n    this.setState({gData: data});\n  }\n\n  render() {\n    return (\n      <>\n        <Tree\n          className=\"draggable-tree\"\n          defaultExpandedKeys={this.state.expandedKeys}\n          draggable\n          blockNode\n          defaultExpandAll\n          onRightClick={this.onRightClick}\n          onSelect={this.onSelect}\n          onDragEnter={this.onDragEnter}\n          onDrop={this.onDrop}\n          treeData={this.state.gData}\n        />\n        <CollectionCreateForm\n          visible={this.state.visible}\n          onCreate={this.onCreate}\n          onCancel={() => {\n            this.setState({visible: false});\n          }}\n          onClick={this.removeClick}\n          target={this.state.target}/>\n      </>\n    );\n  }\n}\n\nexport default TreeUpdatableObj\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport { csrfToken } from 'rails-ujs'\nimport { Button, Select, Tabs} from 'antd'\nimport 'antd/dist/antd.css';\nimport TreeAddableObj from '../components/tree_addable';\nimport TreeUpdatable from '../components/tree_updatable';\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\nconst { TabPane } = Tabs;\n\nclass CategoryEdit extends Component{\n  constructor() {\n    super();\n    axios.defaults.baseURL = 'http://stagingaccessoryriver.net';\n    this.getCategories = this.getCategories.bind(this);\n    this.onFinish = this.onFinish.bind(this);\n    this.onFinishFailed = this.onFinishFailed.bind(this);\n    this.onRootSelectChange = this.onRootSelectChange.bind(this);\n    this.handleButton = this.handleButton.bind(this);\n    this.state = {\n      gData: [],\n      removes: [],\n      isShow: false\n    }\n  }\n  handleButton() {\n    this.postCategories();\n    console.log(\"handleButton\");\n  }\n  onFinish = (values: any) => {\n    this.setState({gData:[{title: values.root_node, key:'0-0'}]})\n    this.setState({isShow: true});\n    console.log(this.state.gData);\n  };\n  onFinishFailed = (errorInfo: any) => {\n    console.log('Failed:', errorInfo);\n  };\n  onRootSelectChange(value) {\n    console.log(value);\n    axios.get(`/api/v1/categories/${value}`)\n      .then(res => {\n        this.setState({isShow:true,gData:res.data});\n        console.log(this.state.gData);\n      }).catch(err => {\n        console.log('err:', err);\n    });\n  }\n  getCategories() {\n    axios.get(`/api/v1/categories`)\n      .then(res => {\n        console.log(res.data);\n        let tmp = [];\n        res.data.forEach(node => tmp.push({value:node.id,label:node.title}))\n        this.setState({categories: tmp});\n      }).catch(err => {\n        console.log('err:', err);\n    });\n  }\n  postCategories(event) {\n    axios.defaults.headers.common['X-CSRF-Token'] = csrfToken();\n    axios({\n      method : \"POST\",\n      url : `/api/v1/categories/update_recursive`,\n      data : {category: {data: this.state.gData,removes: this.state.removes}}\n    })\n    .then((response)=> {\n      console.log(response);\n    })\n    .catch((error)=> {\n      console.error(error);\n    });\n  }\n  componentDidMount() {\n    this.getCategories();\n  }\n  render() {\n    let TreeAdd;\n    if (this.state.isShow) {\n      TreeAdd = <TreeUpdatable gData={this.state.gData} removes = {this.state.removes} visible={this.state.isShow}/>;\n    }\n    return(\n      <>\n        <Select\n          showSearch\n          style={{ width: 200 }}\n          placeholder=\"Select a root category\"\n          onChange={this.onRootSelectChange}\n          options={this.state.categories}\n        ></Select>\n        {TreeAdd}\n        <Button\n          type=\"primary\"\n          onClick={this.handleButton}\n        >\n          Post Categories\n        </Button>\n      </>\n    )\n  }\n}\nexport default CategoryEdit\n","import React, { Component } from \"react\";\nimport SimpleMDE from 'react-simplemde-editor';\nimport 'easymde/dist/easymde.min.css';\n\n\nclass MarkDownEditor extends Component{\n  constructor(){\n    super();\n    this.state = {\n      markdown:'',\n      textValue:'',\n      files: []\n    }\n    this.handleDrop = this.handleDrop.bind(this);\n  }\n    handleDrop(data, e){\n        let files = e.dataTransfer.files;\n        if(files.length > 0){\n            let file = files[0];\n            alert('FileName : ' + file.name );\n            console.log(file);\n            let tmp = this.state.files;\n            tmp.push(file);\n            let tmp2 = this.state.markdown+`<img src=\"${file.name}\">`;\n            this.setState({files:tmp,textValue:tmp2});\n            console.log(tmp2);\n        }\n    }\n    render(){\n      return(\n          <SimpleMDE onChange={(e) => this.setState({markdown:e})} value={this.state.textValue} events={{'drop':this.handleDrop}}/>\n      )\n    }\n}\nexport default MarkDownEditor;\n","import React, { Component } from 'react';\nimport Mde from '../components/mde';\n\nclass BlogPost extends Component{\n  constructor() {\n    super();\n  }\n  render() {\n    return(\n      <>\n        <Mde/>\n      </>\n    )\n  }\n}\nexport default BlogPost\n","import { Layout, Menu, Breadcrumb } from 'antd';\nimport { UserOutlined, EditFilled, LaptopOutlined, NotificationOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport ProblemNew from './problem/new'\nimport ProblemSolve from './problem/solve'\nimport ProblemTodaySolve from './problem/today_problems'\nimport CategoryNew from './category/new'\nimport BookNew from './book/new'\nimport CategoryEdit from './category/edit'\nimport BlogPost from './blog/post'\n\nconst { SubMenu } = Menu;\nconst { Header, Content, Sider } = Layout;\n\nfunction App() {\n  return (\n    <Router>\n      <Layout>\n        <Header className=\"header\">\n          <div className=\"logo\" />\n          <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\n            <Menu.Item key=\"1\"><Link to=\"/\">ホーム</Link></Menu.Item>\n          </Menu>\n        </Header>\n        <Layout>\n          <Sider width={200} className=\"site-layout-background\">\n            <Menu\n              mode=\"inline\"\n              defaultSelectedKeys={['1']}\n              defaultOpenKeys={['sub1']}\n              style={{ height: '100%', borderRight: 0 }}\n            >\n              <SubMenu key=\"sub1\" icon={<EditFilled />} title=\"問題\">\n                <Menu.Item key=\"1\">\n                  <Link to=\"/new/problem\">新規作成</Link>\n                </Menu.Item>\n                <Menu.Item key=\"2\">\n                  <Link to=\"/solve/problems\">復習</Link>\n                </Menu.Item>\n                <Menu.Item key=\"3\">\n                  <Link to=\"/solve/today_problems\">最近の問題</Link>\n                </Menu.Item>\n              </SubMenu>\n              <SubMenu key=\"sub2\" icon={<UserOutlined />} title=\"データ編集\">\n                <Menu.Item key=\"2\">\n                  <Link to=\"/new/category\">新規カテゴリ</Link>\n                </Menu.Item>\n                <Menu.Item key=\"3\">\n                  <Link to=\"/edit/category\">カテゴリ編集</Link>\n                </Menu.Item>\n                <Menu.Item key=\"4\">\n                  <Link to=\"/new/book\">新規書籍</Link>\n                </Menu.Item>\n              </SubMenu>\n              <SubMenu key=\"sub3\" icon={<UserOutlined />} title=\"ブログ\">\n                <Menu.Item key=\"5\">\n                  <Link to=\"/blog/post\">新規カテゴリ</Link>\n                </Menu.Item>\n              </SubMenu>\n            </Menu>\n          </Sider>\n          <Layout style={{ padding: '0 24px 24px' }}>\n          <Switch>\n            <Route path=\"/blog/post\">\n              <BlogPost/>\n            </Route>\n            <Route path=\"/new/problem\">\n              <ProblemNew/>\n            </Route>\n            <Route path=\"/solve/problems\">\n              <ProblemSolve/>\n            </Route>\n            <Route path=\"/solve/today_problems\">\n              <ProblemTodaySolve/>\n            </Route>\n            <Route path=\"/new/category\">\n              <CategoryNew/>\n            </Route>\n            <Route path=\"/edit/category\">\n              <CategoryEdit/>\n            </Route>\n            <Route path=\"/new/book\">\n              <BookNew/>\n            </Route>\n             <Route path=\"/\">\n               <Content\n                 className=\"site-layout-background\"\n                 style={{\n                   padding: 24,\n                   margin: 0,\n                   minHeight: 280,\n                 }}\n               >\n                 Content\n               </Content>\n             </Route>\n           </Switch>\n          </Layout>\n        </Layout>\n      </Layout>\n    </Router>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}