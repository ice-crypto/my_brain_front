{"version":3,"sources":["components/problem_panel.js","components/add_field.js","functions/AxiosWrapper.js","problem/new.js","components/questionselect.js","components/question.js","components/clock.js","problem/solve.js","problem/today_problems.js","components/tree_modal.js","components/tree_addable.js","components/root_node.js","category/new.js","book/new.js","components/tree_updatable.js","category/edit.js","components/mde.js","blog/post.js","App.js","reportWebVitals.js","index.js"],"names":["TextArea","Input","counter","Panel","props","onTextClick","bind","onSelectClick","state","problem_counter","document","getElementById","value","type","onClick","this","Item","label","name","rows","id","Component","AnswerField","List","fields","add","remove","map","field","style","display","marginBottom","align","fieldKey","rules","required","message","MinusCircleOutlined","key","block","icon","PlusOutlined","AxiosWrapper","method","url","data","callback","errors","axios","defaults","baseURL","headers","common","csrfToken","then","response","console","log","catch","error","layout","labelCol","span","wrapperCol","tailLayout","offset","ProblemNew","onChange","onFormatChange","onBookChange","onFinish","getFormats","getBooks","onFinishFailed","onRootSelectChange","root_categories","select_tree","categories","formats","books","panelShow","response_status","setState","format_id","books_id","res","values","book_id","problem","book","status","errorInfo","tmp","forEach","node","push","title","format","problem_type","getRootCategories","StatusBar","showSearch","width","placeholder","options","changeOnSelect","htmlType","QuestionSelect","index","QuestionBox","answer","noStyle","validateStatus","help","QuestionPanel","results","BodyDOM","question_box","body","length","split","isReturn","s","slice","join","replace","question_index","indexOf","result","FormattedDate","date","toLocaleTimeString","Clock","isStop","timerID","setInterval","tick","clearInterval","setSeconds","getSeconds","React","ProblemSolve","getQuestions","onNextClick","onFinishClick","formRef","createRef","questions","isShow","submitDisabled","nextDisabled","Date","clockStop","ok","answers","i","problem_id","correct","timesec","current","resetFields","next_btn","question_body","answer_list","row","toString","disabled","ref","gutter","ProblemTodaySolve","CollectionCreateForm","visible","onCreate","onCancel","target","Form","useForm","form","okText","cancelText","onOk","validateFields","info","TreeAddableObj","onDrop","dragObj","dropKey","dragKey","dragNode","dropPos","pos","dropPosition","Number","loop","children","gData","item","arr","splice","dropToGap","expanded","unshift","ar","onRightClick","onSelect","selectedKeys","insert_node","targetObj","size","removeClick","expandedKeys","className","defaultExpandedKeys","draggable","blockNode","defaultExpandAll","onDragEnter","treeData","RootNode","CategoryNew","root_node","postCategories","handleButton","event","category","TreeAdd","BookNew","onChangeNumber","price","min","max","defaultValue","TreeUpdatableObj","removes","CategoryEdit","Tabs","TabPane","getCategories","get","err","MarkDownEditor","markdown","textValue","files","handleDrop","e","dataTransfer","file","alert","tmp2","events","BlogPost","SubMenu","Menu","Header","Layout","Content","Sider","App","theme","mode","defaultSelectedKeys","to","defaultOpenKeys","height","borderRight","EditFilled","UserOutlined","padding","path","margin","minHeight","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.8870066d.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Input, Button, Form } from 'antd';\nimport 'antd/dist/antd.css';\n\nconst { TextArea } = Input;\n\nvar counter = 1;\n\nclass Panel extends Component{\n  constructor(props) {\n    super(props);\n    this.onTextClick = this.onTextClick.bind(this);\n    this.onSelectClick = this.onSelectClick.bind(this);\n    this.state = {\n      problem_counter: 0\n    }\n  }\n\n  onTextClick() {\n    document.getElementById('problem').value += `[box${counter}]`\n    counter += 1;\n  }\n  onSelectClick() {\n    document.getElementById('problem').value += `[select${counter}{1,}{2,}{3,}{4,}]`;\n  counter +=1;\n  }\n  render() {\n    return(\n      <>\n      <Button type=\"primary\" onClick={this.onTextClick}>\n        Text Input\n      </Button>\n      <Button type=\"primary\" onClick={this.onSelectClick}>\n        Text Select\n      </Button>\n      <Form.Item\n        label=\"Problem body\"\n        name=\"body\"\n      >\n        <TextArea rows={8} id=\"problem\"/>\n      </Form.Item>\n      </>\n    )\n  }\n}\nexport default Panel\n","import { Form, Input, Button, Space } from 'antd';\nimport { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons';\n\nconst AnswerField = () => {\n\n  return (\n      <Form.List name=\"answers\">\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map(field => (\n              <Space key={field.key} style={{ display: 'flex', marginBottom: 8 }} align=\"baseline\">\n                <Form.Item\n                  {...field}\n                  name={[field.name, 'answer']}\n                  fieldKey={[field.fieldKey, 'answer']}\n                  rules={[{ required: true, message: 'Enter Answer' }]}\n                >\n                  <Input />\n                </Form.Item>\n                <MinusCircleOutlined onClick={() => remove(field.name)} />\n              </Space>\n            ))}\n            <Form.Item>\n              <Button type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\n                Add field\n              </Button>\n            </Form.Item>\n          </>\n        )}\n      </Form.List>\n  );\n};\n\nexport default AnswerField\n","import React, { Component } from 'react'\nimport axios from 'axios';\nimport { csrfToken } from 'rails-ujs'\n\nexport default function AxiosWrapper(method,url,data,callback,errors=()=>{}) {\n  axios.defaults.baseURL = 'http://stagingaccessoryriver.net';\n  axios.defaults.headers.common['X-CSRF-Token'] = csrfToken();\n  axios({\n    method : `${method}`,\n    url : `${url}`,\n    data : data\n  })\n  .then((response)=> {\n    console.log(response);\n    callback(response);\n  })\n  .catch((error)=> {\n    console.error(error);\n    errors(error);\n  });\n}\n","import React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { Cascader, Select, Form, Input, InputNumber, DatePicker, Button,Alert } from 'antd';\nimport ProblemPanel from '../components/problem_panel';\nimport AnswerField from '../components/add_field';\nimport AxiosWrapper from '../functions/AxiosWrapper';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nclass ProblemNew extends Component{\n  constructor() {\n    super();\n    this.onChange = this.onChange.bind(this);\n    this.onFormatChange = this.onFormatChange.bind(this);\n    this.onBookChange = this.onBookChange.bind(this);\n    this.onFinish = this.onFinish.bind(this);\n    this.getFormats = this.getFormats.bind(this);\n    this.getBooks = this.getBooks.bind(this);\n    this.onFinishFailed = this.onFinishFailed.bind(this);\n    this.onRootSelectChange = this.onRootSelectChange.bind(this);\n    this.state = {\n      root_categories: [],\n      select_tree: [],\n      categories: [],\n      formats: [],\n      books: [],\n      panelShow: false,\n      data: {},\n      response_status: ''\n    }\n  }\n  onChange(value) {\n    console.log(value);\n    this.setState({categories: value});\n  }\n  onFormatChange(value) {\n    console.log(value);\n    let data = this.state.data;\n    data.format_id = value;\n    this.setState({data: data,panelShow: true});\n  }\n  onBookChange(value) {\n    console.log(value);\n    let data = this.state.data;\n    data.books_id = value;\n    this.setState({data: data});\n  }\n  onRootSelectChange(value) {\n    console.log(value);\n    AxiosWrapper(\n      'GET',\n      `/api/v1/categories/${value}`,\n      (res) => {\n        console.log(res.data);\n        this.setState({select_tree:res.data});\n      }\n    );\n  }\n  onFinish(values) {\n    let data;\n    values.categories = this.state.categories;\n    data = values.book_id;\n    delete values.book_id;\n    AxiosWrapper(\n      \"POST\",\n      \"/api/v1/problems\",\n      {problem: values,book: data},\n      (response) => {this.setState({response_status: response.status == 201 ? 'success' : 'error'})}\n    );\n  };\n  onFinishFailed(errorInfo) {\n    console.log('Failed:', errorInfo);\n  };\n  getRootCategories() {\n    AxiosWrapper(\n      \"GET\",\n      \"/api/v1/categories\",\n      null,\n      (res) => {\n        console.log(res.data);\n        let tmp = [];\n        res.data.forEach(node => tmp.push({value:node.id,label:node.title}))\n        this.setState({root_categories:tmp});\n      }\n    );\n  }\n  getFormats() {\n    AxiosWrapper(\n      \"GET\",\n      \"/api/v1/formats\",\n      null,\n      (res) => {\n        console.log(res.data);\n        let tmp = [];\n        res.data.forEach(format => tmp.push({value:format.id,label:format.problem_type}))\n        this.setState({formats:tmp});\n      }\n    );\n  }\n  getBooks() {\n    AxiosWrapper(\n      \"GET\",\n      \"/api/v1/books\",\n      null,\n      (res) => {\n        console.log(res.data);\n        let tmp = [];\n        res.data.forEach(book => tmp.push({value:book.id,label:book.title}));\n        this.setState({books:tmp});\n      }\n    );\n  }\n  componentDidMount() {\n    this.getRootCategories();\n    this.getBooks();\n    this.getFormats();\n  }\n\n  render() {\n    let Panel,StatusBar;\n    if (this.state.panelShow) {\n      Panel = <ProblemPanel/>;\n    }\n    if (this.state.response_status != '') {\n      StatusBar = <Alert message={this.state.response_status} type={this.state.response_status} />;\n    }\n    return(\n      <>\n      {StatusBar}\n      <Select\n        showSearch\n        style={{ width: 200 }}\n        placeholder=\"Select a root category\"\n        onChange={this.onRootSelectChange}\n        options={this.state.root_categories}\n      ></Select>\n      <Form\n        {...layout}\n        name=\"basic\"\n        onFinish={this.onFinish}\n        onFinishFailed={this.onFinishFailed}\n      >\n        <Form.Item\n          label=\"Book title\"\n          name=\"book_id\"\n        >\n          <Select\n            showSearch\n            style={{ width: 200 }}\n            placeholder=\"Select a problem book\"\n            onChange={this.onBookChange}\n            options={this.state.books}\n          ></Select>\n        </Form.Item>\n        <Form.Item\n          label=\"Select Category\"\n          name=\"categories\"\n        >\n          <Cascader options={this.state.select_tree} onChange={this.onChange} placeholder=\"Please select\" changeOnSelect/>,\n        </Form.Item>\n        <Form.Item\n          label=\"Problem Format\"\n          name=\"format_id\"\n        >\n          <Select\n            showSearch\n            style={{ width: 200 }}\n            placeholder=\"Select a problem format\"\n            onChange={this.onFormatChange}\n            options={this.state.formats}\n          ></Select>\n        </Form.Item>\n\n        {Panel}\n\n        <AnswerField/>\n\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n      </>\n    )\n  }\n}\n\nexport default ProblemNew\n","import { Form, Input, Button, Checkbox, Select} from 'antd';\n\nconst QuestionSelect = ({options, onChange, index}) => {\n  return (\n    <Form.Item\n       name=\"answer\"\n       fieldKey={[index, 'answer']}\n     >\n       <Select\n         showSearch\n         style={{ width: 200 }}\n         placeholder=\"Select answer\"\n         onChange={onChange}\n         options={options}\n       ></Select>\n     </Form.Item>\n  )\n}\nexport default QuestionSelect;\n","import React, { Component } from 'react';\nimport { Input, Button, Form } from 'antd';\nimport QuestionSelect from '../components/questionselect';\nimport 'antd/dist/antd.css';\n\nconst { TextArea } = Input;\n\nvar counter = 1;\n\nconst QuestionBox = ({index,message,status,answer}) => {return <Form.Item noStyle name={[index,'answer']} validateStatus={status} help={answer}><input placeholder={message}/></Form.Item>;}\n\nclass QuestionPanel extends Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      results: props.results\n    }\n  }\n\n  render() {\n    let BodyDOM;\n    let question_box = this.props.body.length > 0?this.props.body.split(''):[];\n    let isReturn = true;\n    BodyDOM = question_box.map((s,index)=>{\n      if (s == '[') {\n        isReturn = false;\n        if (question_box.slice(index+1,index+4).join(',').replace(/,/g,'') == 'box'){\n          let question_index = question_box.slice(index+4,question_box.indexOf(']',index)).join(',').replace(/,/g,'');\n          return <QuestionBox\n          index={question_index}\n          message={'問'+(question_index)}\n          status={this.state.results.length>0?this.state.results[question_index].result:''}\n          answer={this.state.results.length>0?this.state.results[question_index].answer:''}\n          />;\n        }else if (question_box.slice(index+1,index+7).join(',').replace(/,/g,'') == 'select') {\n          return <QuestionSelect index={question_box.slice(index+4,index+5)} message={'問'+(question_box.slice(index+4,index+5))}/>;\n        }else {\n          return '<else>';\n        }\n      }else if (s == ']') {\n        isReturn = true;\n      }else if(isReturn){\n        return s;\n      }else{\n        return;\n      }\n    });\n    return(\n      <>\n        {BodyDOM}\n      </>\n    )\n  }\n}\nexport default QuestionPanel\n","import React from 'react';\n\nconst FormattedDate = (props) => {\n  return <h2>It is {props.date.toLocaleTimeString()}.</h2>;\n}\n\nclass Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: props.date,\n      isStop: props.isStop\n    };\n  }\n\n  componentDidMount() {\n    this.timerID = setInterval(\n      () => this.tick(),\n      1000\n    );\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  tick() {\n    let date = this.state.date;\n    date.setSeconds(date.getSeconds() + 1);\n    this.setState({\n      date: date\n    });\n  }\n\n  render() {\n    if (this.state.isStop) {\n      clearInterval(this.timerID);\n      this.setState({isStop:false});\n    }\n    return (\n      <div>\n        <FormattedDate date={this.state.date} />\n      </div>\n    );\n  }\n}\n\nexport default Clock;\n","import React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { Cascader, Select, Form, Input, InputNumber, DatePicker, Button, Alert, Card,Row, Col} from 'antd';\nimport ProblemPanel from '../components/problem_panel';\nimport QuestionPanel from '../components/question';\nimport Clock from '../components/clock';\nimport AxiosWrapper from '../functions/AxiosWrapper';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nclass ProblemSolve extends Component{\n  constructor() {\n    super();\n    this.getQuestions = this.getQuestions.bind(this);\n    this.onFinishFailed = this.onFinishFailed.bind(this);\n    this.onFinish = this.onFinish.bind(this);\n    this.onNextClick = this.onNextClick.bind(this);\n    this.onFinishClick = this.onFinishClick.bind(this);\n    this.formRef = React.createRef();\n    this.state = {\n      data: [],\n      questions: [],\n      counter: 0,\n      results: [],\n      isShow: true,\n      submitDisabled: false,\n      nextDisabled: true,\n      date: new Date('2000/1/1'),\n      clockStop: false,\n      response_status: ''\n    }\n  }\n  getQuestions() {\n    AxiosWrapper(\n      \"GET\",\n      \"/api/v1/problems/questions\",\n      null,\n      (res) => {\n        console.log(res);\n        this.setState({\n          questions:res.data,\n          isShow: res.data.length<=1?false:true\n        });\n      }\n    )\n  }\n  onFinish(values) {\n    let results=[],ok=1;\n    let data = this.state.data;\n    this.state.questions[this.state.counter].answers.forEach((answer, i) => {\n      let result;\n      if (answer == values[i].answer) {\n        result = 'success';\n      }else {\n        result = 'error';\n        ok--;\n      }\n      results.push({result:result,answer:answer});\n    });\n    data.push(\n      {\n        problem_id: this.state.questions[this.state.counter].id,\n        correct: ok >= 0? true:false,\n        timesec: 400\n      }\n    );\n    this.setState({\n      results:results,\n      data: data,\n      date: new Date('2000/1/1'),\n      clockStop: true,\n      submitDisabled: true,\n      nextDisabled: false\n    });\n    console.log(this.state.questions[this.state.counter]);\n    console.log(this.state.data);\n  }\n  onFinishFailed(values) {\n    console.log(values);\n  }\n  onNextClick() {\n    if (this.state.questions.length == (this.state.counter+1)+1) {\n      this.setState({counter:this.state.counter+1,isShow:false});\n    }else{\n      this.setState({\n        counter:this.state.counter+1,\n        results: []\n      });\n    }\n    this.setState({submitDisabled: false,nextDisabled: true});\n    this.formRef.current.resetFields();\n  }\n  onFinishClick() {\n    AxiosWrapper(\n      \"POST\",\n      \"/api/v1/problems/analyze\",\n      {problem: this.state.data},\n      (response) => {\n        console.log(response);\n        this.setState({response_status: response.status == 200 ? 'success' : 'error'});\n      }\n    )\n  }\n  componentDidMount() {\n    this.getQuestions();\n  }\n\n  render() {\n    let question_body = this.state.questions.length > 0 ?\n      this.state.questions[this.state.counter].body : [];\n    let answer_list = this.state.results.map((row,i)=>{\n      let message = `問題${i+1} 答え: ${row.answer}`;\n      return <Col key={i.toString()}><Alert message={message} type={row.result}/></Col>;\n    });\n    let next_btn,StatusBar;\n    if (this.state.isShow) {\n      next_btn = <Button type=\"primary\" onClick={this.onNextClick} disabled={this.state.nextDisabled}>Next</Button>;\n    }else{\n      next_btn = <Button type=\"primary\" onClick={this.onFinishClick} disabled={this.state.nextDisabled}>Finish</Button>;\n    }\n    if (this.state.response_status != '') {\n      StatusBar = <Alert message={this.state.response_status} type={this.state.response_status} />;\n    }\n    return(\n      <>\n      {StatusBar}\n      <Clock date={this.state.date} isStop={this.state.clockStop}/>\n      <Form\n        {...layout}\n        name=\"basic\"\n        ref={this.formRef}\n        onFinish={this.onFinish}\n        onFinishFailed={this.onFinishFailed}\n      >\n        <Card title=\"以下の空欄を埋めなさい。\" style={{ width: 300 }}>\n          <QuestionPanel\n            body={question_body}\n            results={this.state.results}\n          />\n        </Card>\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\" disabled={this.state.submitDisabled}>\n            Submit\n          </Button>\n        </Form.Item>\n        {next_btn}\n      </Form>\n      <Row gutter={[16, 16]}>\n        {answer_list}\n      </Row>\n      </>\n    )\n  }\n}\n\nexport default ProblemSolve\n","import React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { Cascader, Select, Form, Input, InputNumber, DatePicker, Button, Alert, Card,Row, Col} from 'antd';\nimport ProblemPanel from '../components/problem_panel';\nimport QuestionPanel from '../components/question';\nimport Clock from '../components/clock';\nimport AxiosWrapper from '../functions/AxiosWrapper';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nclass ProblemTodaySolve extends Component{\n  constructor() {\n    super();\n    this.getQuestions = this.getQuestions.bind(this);\n    this.onFinishFailed = this.onFinishFailed.bind(this);\n    this.onFinish = this.onFinish.bind(this);\n    this.onNextClick = this.onNextClick.bind(this);\n    this.onFinishClick = this.onFinishClick.bind(this);\n    this.formRef = React.createRef();\n    this.state = {\n      data: [],\n      questions: [],\n      counter: 0,\n      results: [],\n      isShow: true,\n      submitDisabled: false,\n      nextDisabled: true,\n      date: new Date('2000/1/1'),\n      clockStop: false,\n      response_status: ''\n    }\n  }\n  getQuestions() {\n    AxiosWrapper(\n      \"GET\",\n      \"/api/v1/problems/today_questions\",\n      null,\n      (res) => {\n        console.log(res);\n        this.setState({\n          questions:res.data,\n          isShow: res.data.length<=1?false:true\n        });\n      }\n    )\n  }\n  onFinish(values) {\n    let results=[],ok=1;\n    let data = this.state.data;\n    this.state.questions[this.state.counter].answers.forEach((answer, i) => {\n      let result;\n      if (answer == values[i].answer) {\n        result = 'success';\n      }else {\n        result = 'error';\n        ok--;\n      }\n      results.push({result:result,answer:answer});\n    });\n    data.push(\n      {\n        problem_id: this.state.questions[this.state.counter].id,\n        correct: ok >= 0? true:false,\n        timesec: 400\n      }\n    );\n    this.setState({\n      results:results,\n      data: data,\n      date: new Date('2000/1/1'),\n      clockStop: true,\n      submitDisabled: true,\n      nextDisabled: false\n    });\n    console.log(this.state.questions[this.state.counter]);\n    console.log(this.state.data);\n  }\n  onFinishFailed(values) {\n    console.log(values);\n  }\n  onNextClick() {\n    if (this.state.questions.length == (this.state.counter+1)+1) {\n      this.setState({counter:this.state.counter+1,isShow:false});\n    }else{\n      this.setState({\n        counter:this.state.counter+1,\n        results: []\n      });\n    }\n    this.setState({submitDisabled: false,nextDisabled: true});\n    this.formRef.current.resetFields();\n  }\n  onFinishClick() {\n\n    this.setState({response_status: 'success'});\n  }\n  componentDidMount() {\n    this.getQuestions();\n  }\n\n  render() {\n    let question_body = this.state.questions.length > 0 ?\n      this.state.questions[this.state.counter].body : [];\n    let answer_list = this.state.results.map((row,i)=>{\n      let message = `問題${i+1} 答え: ${row.answer}`;\n      return <Col key={i.toString()}><Alert message={message} type={row.result}/></Col>;\n    });\n    let next_btn,StatusBar;\n    if (this.state.isShow) {\n      next_btn = <Button type=\"primary\" onClick={this.onNextClick} disabled={this.state.nextDisabled}>Next</Button>;\n    }else{\n      next_btn = <Button type=\"primary\" onClick={this.onFinishClick} disabled={this.state.nextDisabled}>Finish</Button>;\n    }\n    if (this.state.response_status != '') {\n      StatusBar = <Alert message={this.state.response_status} type={this.state.response_status} />;\n    }\n    return(\n      <>\n      {StatusBar}\n      <Clock date={this.state.date} isStop={this.state.clockStop}/>\n      <Form\n        {...layout}\n        name=\"basic\"\n        ref={this.formRef}\n        onFinish={this.onFinish}\n        onFinishFailed={this.onFinishFailed}\n      >\n        <Card title=\"以下の空欄を埋めなさい。\" style={{ width: 300 }}>\n          <QuestionPanel\n            body={question_body}\n            results={this.state.results}\n          />\n        </Card>\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\" disabled={this.state.submitDisabled}>\n            Submit\n          </Button>\n        </Form.Item>\n        {next_btn}\n      </Form>\n      <Row gutter={[16, 16]}>\n        {answer_list}\n      </Row>\n      </>\n    )\n  }\n}\n\nexport default ProblemTodaySolve\n","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport '../index.css';\nimport { Button, Modal, Form, Input, Radio } from 'antd';\n\nconst CollectionCreateForm = ({ visible, onCreate, onCancel, onClick, target}) => {\n  const [form] = Form.useForm();\n\n\n  return (\n    <Modal\n      visible={visible}\n      title=\"Create a new collection\"\n      okText=\"Create\"\n      cancelText=\"Cancel\"\n      onCancel={() => {\n        onCancel();\n        form.resetFields();\n      }}\n      onOk={() => {\n        form\n          .validateFields()\n          .then((values) => {\n            form.resetFields();\n            onCreate(values);\n          })\n          .catch((info) => {\n            console.log('Validate Failed:', info);\n          });\n      }}\n    >\n    <Button type=\"primary\" onClick={onClick}>削除</Button>\n      <Form\n        form={form}\n        layout=\"vertical\"\n        name=\"form_in_modal\"\n      >\n        <Form.Item\n          name=\"node\"\n          label=\"Node Name\"\n          rules={[\n            {\n              required: true,\n              message: 'Please input the title of collection!',\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default CollectionCreateForm\n","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport '../index.css';\nimport { Tree } from 'antd';\nimport CollectionCreateForm from '../components/tree_modal'\n\nclass TreeAddableObj extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gData: props.gData,\n      expandedKeys: ['0','0-0', '0-0-0', '0-0-0-0'],\n      visible: false,\n      target: ''\n    };\n    this.onRightClick = this.onRightClick.bind(this);\n    this.onSelect = this.onSelect.bind(this);\n    this.onCreate     = this.onCreate.bind(this);\n    this.removeClick = this.removeClick.bind(this);\n  }\n\n\n  onDrop = info => {\n    const dropKey = info.node.key;\n    const dragKey = info.dragNode.key;\n    const dropPos = info.node.pos.split('-');\n    const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n\n    const loop = (data, key, callback) => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].key === key) {\n          return callback(data[i], i, data);\n        }\n        if (data[i].children) {\n          loop(data[i].children, key, callback);\n        }\n      }\n    };\n    const data = [...this.state.gData];\n\n    // Find dragObject\n    let dragObj;\n    loop(data, dragKey, (item, index, arr) => {\n      arr.splice(index, 1);\n      dragObj = item;\n    });\n\n    if (!info.dropToGap) {\n      // Drop on the content\n      loop(data, dropKey, item => {\n        item.children = item.children || [];\n        // where to insert 示例添加到头部，可以是随意位置\n        item.children.unshift(dragObj);\n      });\n    } else if (\n      (info.node.props.children || []).length > 0 && // Has children\n      info.node.props.expanded && // Is expanded\n      dropPosition === 1 // On the bottom gap\n    ) {\n      loop(data, dropKey, item => {\n        item.children = item.children || [];\n        // where to insert 示例添加到头部，可以是随意位置\n        item.children.unshift(dragObj);\n        // in previous version, we use item.children.push(dragObj) to insert the\n        // item to the tail of the children\n      });\n    } else {\n      let ar;\n      let i;\n      loop(data, dropKey, (item, index, arr) => {\n        ar = arr;\n        i = index;\n      });\n      if (dropPosition === -1) {\n        ar.splice(i, 0, dragObj);\n      } else {\n        ar.splice(i + 1, 0, dragObj);\n      }\n    }\n\n    this.setState({\n      gData: data,\n    });\n  };\n\n  onRightClick = info => {\n    this.setState({\n      target: info.node.key,\n      visible: true\n    });\n  }\n\n  onSelect = (selectedKeys: React.Key[], info: any) => {\n    console.log('selected', selectedKeys, info);\n  };\n\n  onCreate = (values) => {\n    this.setState({visible: false});\n    const data = [...this.state.gData];\n    const loop = (data, key, callback) => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].key === key) {\n          return callback(data[i], i, data);\n        }\n        if (data[i].children) {\n          loop(data[i].children, key, callback);\n        }\n      }\n    };\n    let insert_node;\n    let targetObj;\n    loop(data, this.state.target, (item, index, arr) => {\n      targetObj = item\n    });\n    if ((targetObj.children || []).length == 0) {\n      insert_node = [{title: values.node,key: targetObj.key+\"-0\"}]\n      loop(data, targetObj.key, item => {\n        item[\"children\"] = insert_node;\n      });\n    }else{\n      let size;\n      loop(data, targetObj.key, (item, index, arr) => {\n        size = item.children.length;\n      });\n      insert_node = {title: values.node,key: targetObj.key+\"-\"+size}\n      loop(data, targetObj.key, item => {\n        item.children.unshift(insert_node);\n      });\n    }\n    this.setState({\n      gData: data,\n    });\n  };\n\n  removeClick = () => {\n    const data = [...this.state.gData];\n    const loop = (data, key, callback) => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].key === key) {\n          return callback(data[i], i, data);\n        }\n        if (data[i].children) {\n          loop(data[i].children, key, callback);\n        }\n      }\n    };\n\n    loop(data, this.state.target, (item, index, arr) => {\n      arr.splice(index,1);\n    });\n    this.setState({gData: data});\n  }\n\n  render() {\n    return (\n      <>\n        <Tree\n          className=\"draggable-tree\"\n          defaultExpandedKeys={this.state.expandedKeys}\n          draggable\n          blockNode\n          defaultExpandAll\n          onRightClick={this.onRightClick}\n          onSelect={this.onSelect}\n          onDragEnter={this.onDragEnter}\n          onDrop={this.onDrop}\n          treeData={this.state.gData}\n        />\n        <CollectionCreateForm\n          visible={this.state.visible}\n          onCreate={this.onCreate}\n          onCancel={() => {\n            this.setState({visible: false});\n          }}\n          onClick={this.removeClick}\n          target={this.state.target}/>\n      </>\n    );\n  }\n}\n\nexport default TreeAddableObj\n","import { Form, Input, Button, Checkbox } from 'antd';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nconst RootNode = ({onFinish, onFinishFailed}) => {\n\n  return (\n    <Form\n      {...layout}\n      name=\"basic\"\n      onFinish={onFinish}\n      onFinishFailed={onFinishFailed}\n    >\n      <Form.Item\n        label=\"Root Node\"\n        name=\"root_node\"\n        rules={[{ required: true, message: 'Please input Root Node!' }]}\n      >\n        <Input />\n      </Form.Item>\n\n      <Form.Item {...tailLayout}>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n};\n\nexport default RootNode\n","import React, { Component } from 'react';\nimport { Button } from 'antd'\nimport 'antd/dist/antd.css';\nimport TreeAddableObj from '../components/tree_addable';\nimport RootNode from '../components/root_node';\nimport AxiosWrapper from '../functions/AxiosWrapper';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nclass CategoryNew extends Component{\n  constructor() {\n    super();\n    this.state = {\n      gData: [],\n      isShow: false\n    }\n    this.postCategories = this.postCategories.bind(this);\n    this.handleButton = this.handleButton.bind(this);\n  }\n  onFinish = (values: any) => {\n    console.log('Success:', values);\n    this.setState({gData:[{title: values.root_node, key:'0-0'}]})\n    this.setState({isShow: true});\n    console.log(this.state.gData);\n  };\n  onFinishFailed = (errorInfo: any) => {\n    console.log('Failed:', errorInfo);\n  };\n  handleButton() {\n    this.postCategories();\n    console.log(\"handleButton\");\n  }\n  postCategories(event) {\n    AxiosWrapper(\n      \"POST\",\n      \"/api/v1/categories\",\n      {category: {data: this.state.gData}},\n      (response) => {console.log(response)}\n    );\n  }\n  render() {\n    let TreeAdd;\n    if (this.state.isShow) {\n      TreeAdd = <TreeAddableObj gData={this.state.gData}/>;\n    }\n    return(\n      <>\n        <RootNode onFinish={this.onFinish} onFinishFailed={this.onFinishFailed}/>\n        {TreeAdd}\n        <Button\n          type=\"primary\"\n          onClick={this.handleButton}\n        >\n          Post Categories\n        </Button>\n        <p>category new</p>\n      </>\n    )\n  }\n}\nexport default CategoryNew\n","import React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { Cascader, Select, Form, Input, InputNumber, DatePicker, Button} from 'antd';\nimport AxiosWrapper from '../functions/AxiosWrapper';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nclass BookNew extends Component{\n  constructor() {\n    super();\n    this.onChange = this.onChange.bind(this);\n    this.onChangeNumber = this.onChangeNumber.bind(this);\n    this.onFinish = this.onFinish.bind(this);\n    this.onFinishFailed = this.onFinishFailed.bind(this);\n    this.onRootSelectChange = this.onRootSelectChange.bind(this);\n    this.state = {\n      root_categories: [],\n      select_tree: [],\n      categories: [],\n      price: -1\n    }\n  }\n  onChange(value) {\n    console.log(value);\n    this.setState({categories: value});\n  }\n  onChangeNumber(value) {\n    this.setState({price: value});\n  }\n  onRootSelectChange(value) {\n    console.log(value);\n    AxiosWrapper(\n      \"GET\",\n      `/api/v1/categories/${value}`,\n      null,\n      (res) => {\n        console.log(res.data);\n        this.setState({select_tree:res.data});\n      }\n    );\n  }\n  onFinish(values) {\n    values.categories = this.state.categories;\n    values.price = this.state.price;\n    AxiosWrapper(\n      \"POST\",\n      \"/api/v1/books\",\n      {book: values},\n      (res) => console.log(res)\n    );\n  };\n  onFinishFailed(errorInfo) {\n    console.log('Failed:', errorInfo);\n  };\n  getRootCategories() {\n    AxiosWrapper(\n      \"GET\",\n      '/api/v1/categories',\n      (res) => {\n        console.log(res.data);\n        let tmp = [];\n        res.data.forEach(node => tmp.push({value:node.id,label:node.title}))\n        this.setState({root_categories:tmp});\n      }\n    );\n  }\n  componentDidMount() {\n    this.getRootCategories();\n  }\n  render() {\n    return(\n      <>\n      <Select\n        showSearch\n        style={{ width: 200 }}\n        placeholder=\"Select a root category\"\n        onChange={this.onRootSelectChange}\n        options={this.state.root_categories}\n      ></Select>\n      <Form\n        {...layout}\n        name=\"basic\"\n        onFinish={this.onFinish}\n        onFinishFailed={this.onFinishFailed}\n      >\n        <Form.Item\n          label=\"Book title\"\n          name=\"title\"\n          rules={[{ required: true, message: 'Please input Book title.' }]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label=\"Book price\"\n          name=\"price\"\n        >\n          <InputNumber min={1} max={100000} onChange={this.onChangeNumber} defaultValue={1000}/>\n        </Form.Item>\n        <Form.Item\n          label=\"Select Category\"\n          name=\"categories\"\n        >\n          <Cascader options={this.state.select_tree} onChange={this.onChange} placeholder=\"Please select\" changeOnSelect/>,\n        </Form.Item>\n        <Form.Item\n          label=\"Book published Date\"\n          name=\"published_at\"\n          rules={[{ required: true, message: 'Please input Book published date.' }]}\n        >\n          <DatePicker />\n        </Form.Item>\n\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n      </>\n    )\n  }\n}\n\nexport default BookNew\n","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport '../index.css';\nimport { Tree } from 'antd';\nimport CollectionCreateForm from '../components/tree_modal'\n\nclass TreeUpdatableObj extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gData: props.gData,\n      expandedKeys: ['0','0-0', '0-0-0', '0-0-0-0'],\n      visible: false,\n      target: '',\n      removes:props.removes\n    };\n    this.onRightClick = this.onRightClick.bind(this);\n    this.onSelect = this.onSelect.bind(this);\n    this.onCreate     = this.onCreate.bind(this);\n    this.removeClick = this.removeClick.bind(this);\n  }\n\n\n  onDrop = info => {\n    const dropKey = info.node.key;\n    const dragKey = info.dragNode.key;\n    const dropPos = info.node.pos.split('-');\n    const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n\n    const loop = (data, key, callback) => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].key === key) {\n          return callback(data[i], i, data);\n        }\n        if (data[i].children) {\n          loop(data[i].children, key, callback);\n        }\n      }\n    };\n    const data = [...this.state.gData];\n\n    // Find dragObject\n    let dragObj;\n    loop(data, dragKey, (item, index, arr) => {\n      arr.splice(index, 1);\n      dragObj = item;\n    });\n\n    if (!info.dropToGap) {\n      // Drop on the content\n      loop(data, dropKey, item => {\n        item.children = item.children || [];\n        // where to insert 示例添加到头部，可以是随意位置\n        item.children.unshift(dragObj);\n      });\n    } else if (\n      (info.node.props.children || []).length > 0 && // Has children\n      info.node.props.expanded && // Is expanded\n      dropPosition === 1 // On the bottom gap\n    ) {\n      loop(data, dropKey, item => {\n        item.children = item.children || [];\n        // where to insert 示例添加到头部，可以是随意位置\n        item.children.unshift(dragObj);\n        // in previous version, we use item.children.push(dragObj) to insert the\n        // item to the tail of the children\n      });\n    } else {\n      let ar;\n      let i;\n      loop(data, dropKey, (item, index, arr) => {\n        ar = arr;\n        i = index;\n      });\n      if (dropPosition === -1) {\n        ar.splice(i, 0, dragObj);\n      } else {\n        ar.splice(i + 1, 0, dragObj);\n      }\n    }\n\n    this.setState({\n      gData: data,\n    });\n  };\n\n  onRightClick = info => {\n    this.setState({\n      target: info.node.key,\n      visible: true\n    });\n  }\n\n  onSelect = (selectedKeys: React.Key[], info: any) => {\n    console.log('selected', selectedKeys, info);\n  };\n\n  onCreate = (values) => {\n    this.setState({visible: false});\n    const data = [...this.state.gData];\n    const loop = (data, key, callback) => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].key === key) {\n          return callback(data[i], i, data);\n        }\n        if (data[i].children) {\n          loop(data[i].children, key, callback);\n        }\n      }\n    };\n    let insert_node;\n    let targetObj;\n    loop(data, this.state.target, (item, index, arr) => {\n      targetObj = item\n    });\n    if ((targetObj.children || []).length == 0) {\n      insert_node = [{title: values.node,key: targetObj.key+\"-0\"}]\n      loop(data, targetObj.key, item => {\n        item[\"children\"] = insert_node;\n      });\n    }else{\n      let size;\n      loop(data, targetObj.key, (item, index, arr) => {\n        size = item.children.length;\n      });\n      insert_node = {title: values.node,key: targetObj.key+\"-\"+size}\n      loop(data, targetObj.key, item => {\n        item.children.unshift(insert_node);\n      });\n    }\n    this.setState({\n      gData: data,\n    });\n  };\n\n  removeClick = () => {\n    const data = [...this.state.gData];\n    const loop = (data, key, callback) => {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].key === key) {\n          return callback(data[i], i, data);\n        }\n        if (data[i].children) {\n          loop(data[i].children, key, callback);\n        }\n      }\n    };\n\n    loop(data, this.state.target, (item, index, arr) => {\n      var tmp = this.state.removes\n      tmp.push(item['value']);\n      this.setState({removes:tmp});\n      arr.splice(index,1);\n    });\n    this.setState({gData: data});\n  }\n\n  render() {\n    return (\n      <>\n        <Tree\n          className=\"draggable-tree\"\n          defaultExpandedKeys={this.state.expandedKeys}\n          draggable\n          blockNode\n          defaultExpandAll\n          onRightClick={this.onRightClick}\n          onSelect={this.onSelect}\n          onDragEnter={this.onDragEnter}\n          onDrop={this.onDrop}\n          treeData={this.state.gData}\n        />\n        <CollectionCreateForm\n          visible={this.state.visible}\n          onCreate={this.onCreate}\n          onCancel={() => {\n            this.setState({visible: false});\n          }}\n          onClick={this.removeClick}\n          target={this.state.target}/>\n      </>\n    );\n  }\n}\n\nexport default TreeUpdatableObj\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport { csrfToken } from 'rails-ujs'\nimport { Button, Select, Tabs} from 'antd'\nimport 'antd/dist/antd.css';\nimport TreeAddableObj from '../components/tree_addable';\nimport TreeUpdatable from '../components/tree_updatable';\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\nconst { TabPane } = Tabs;\n\nclass CategoryEdit extends Component{\n  constructor() {\n    super();\n    axios.defaults.baseURL = 'http://stagingaccessoryriver.net';\n    this.getCategories = this.getCategories.bind(this);\n    this.onFinish = this.onFinish.bind(this);\n    this.onFinishFailed = this.onFinishFailed.bind(this);\n    this.onRootSelectChange = this.onRootSelectChange.bind(this);\n    this.handleButton = this.handleButton.bind(this);\n    this.state = {\n      gData: [],\n      removes: [],\n      isShow: false\n    }\n  }\n  handleButton() {\n    this.postCategories();\n    console.log(\"handleButton\");\n  }\n  onFinish = (values: any) => {\n    this.setState({gData:[{title: values.root_node, key:'0-0'}]})\n    this.setState({isShow: true});\n    console.log(this.state.gData);\n  };\n  onFinishFailed = (errorInfo: any) => {\n    console.log('Failed:', errorInfo);\n  };\n  onRootSelectChange(value) {\n    console.log(value);\n    axios.get(`/api/v1/categories/${value}`)\n      .then(res => {\n        this.setState({isShow:true,gData:res.data});\n        console.log(this.state.gData);\n      }).catch(err => {\n        console.log('err:', err);\n    });\n  }\n  getCategories() {\n    axios.get(`/api/v1/categories`)\n      .then(res => {\n        console.log(res.data);\n        let tmp = [];\n        res.data.forEach(node => tmp.push({value:node.id,label:node.title}))\n        this.setState({categories: tmp});\n      }).catch(err => {\n        console.log('err:', err);\n    });\n  }\n  postCategories(event) {\n    axios.defaults.headers.common['X-CSRF-Token'] = csrfToken();\n    axios({\n      method : \"POST\",\n      url : `/api/v1/categories/update_recursive`,\n      data : {category: {data: this.state.gData,removes: this.state.removes}}\n    })\n    .then((response)=> {\n      console.log(response);\n    })\n    .catch((error)=> {\n      console.error(error);\n    });\n  }\n  componentDidMount() {\n    this.getCategories();\n  }\n  render() {\n    let TreeAdd;\n    if (this.state.isShow) {\n      TreeAdd = <TreeUpdatable gData={this.state.gData} removes = {this.state.removes} visible={this.state.isShow}/>;\n    }\n    return(\n      <>\n        <Select\n          showSearch\n          style={{ width: 200 }}\n          placeholder=\"Select a root category\"\n          onChange={this.onRootSelectChange}\n          options={this.state.categories}\n        ></Select>\n        {TreeAdd}\n        <Button\n          type=\"primary\"\n          onClick={this.handleButton}\n        >\n          Post Categories\n        </Button>\n      </>\n    )\n  }\n}\nexport default CategoryEdit\n","import React, { Component } from \"react\";\nimport SimpleMDE from 'react-simplemde-editor';\nimport 'easymde/dist/easymde.min.css';\n\n\nclass MarkDownEditor extends Component{\n  constructor(){\n    super();\n    this.state = {\n      markdown:'',\n      textValue:'',\n      files: []\n    }\n    this.handleDrop = this.handleDrop.bind(this);\n  }\n    handleDrop(data, e){\n        let files = e.dataTransfer.files;\n        if(files.length > 0){\n            let file = files[0];\n            alert('FileName : ' + file.name );\n            console.log(file);\n            let tmp = this.state.files;\n            tmp.push(file);\n            let tmp2 = this.state.markdown+`<img src=\"${file.name}\">`;\n            this.setState({files:tmp,textValue:tmp2});\n            console.log(tmp2);\n        }\n    }\n    render(){\n      return(\n          <SimpleMDE onChange={(e) => this.setState({markdown:e})} value={this.state.textValue} events={{'drop':this.handleDrop}}/>\n      )\n    }\n}\nexport default MarkDownEditor;\n","import React, { Component } from 'react';\nimport Mde from '../components/mde';\n\nclass BlogPost extends Component{\n  constructor() {\n    super();\n  }\n  render() {\n    return(\n      <>\n        <Mde/>\n      </>\n    )\n  }\n}\nexport default BlogPost\n","import { Layout, Menu, Breadcrumb } from 'antd';\nimport { UserOutlined, EditFilled, LaptopOutlined, NotificationOutlined } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport ProblemNew from './problem/new'\nimport ProblemSolve from './problem/solve'\nimport ProblemTodaySolve from './problem/today_problems'\nimport CategoryNew from './category/new'\nimport BookNew from './book/new'\nimport CategoryEdit from './category/edit'\nimport BlogPost from './blog/post'\n\nconst { SubMenu } = Menu;\nconst { Header, Content, Sider } = Layout;\n\nfunction App() {\n  return (\n    <Router>\n      <Layout>\n        <Header className=\"header\">\n          <div className=\"logo\" />\n          <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\n            <Menu.Item key=\"1\"><Link to=\"/\">ホーム</Link></Menu.Item>\n          </Menu>\n        </Header>\n        <Layout>\n          <Sider width={200} className=\"site-layout-background\">\n            <Menu\n              mode=\"inline\"\n              defaultSelectedKeys={['1']}\n              defaultOpenKeys={['sub1']}\n              style={{ height: '100%', borderRight: 0 }}\n            >\n              <SubMenu key=\"sub1\" icon={<EditFilled />} title=\"問題\">\n                <Menu.Item key=\"1\">\n                  <Link to=\"/new/problem\">新規作成</Link>\n                </Menu.Item>\n                <Menu.Item key=\"2\">\n                  <Link to=\"/solve/problems\">復習</Link>\n                </Menu.Item>\n                <Menu.Item key=\"3\">\n                  <Link to=\"/solve/today_problems\">最近の問題</Link>\n                </Menu.Item>\n              </SubMenu>\n              <SubMenu key=\"sub2\" icon={<UserOutlined />} title=\"データ編集\">\n                <Menu.Item key=\"2\">\n                  <Link to=\"/new/category\">新規カテゴリ</Link>\n                </Menu.Item>\n                <Menu.Item key=\"3\">\n                  <Link to=\"/edit/category\">カテゴリ編集</Link>\n                </Menu.Item>\n                <Menu.Item key=\"4\">\n                  <Link to=\"/new/book\">新規書籍</Link>\n                </Menu.Item>\n              </SubMenu>\n              <SubMenu key=\"sub3\" icon={<UserOutlined />} title=\"ブログ\">\n                <Menu.Item key=\"5\">\n                  <Link to=\"/blog/post\">新規カテゴリ</Link>\n                </Menu.Item>\n              </SubMenu>\n            </Menu>\n          </Sider>\n          <Layout style={{ padding: '0 24px 24px' }}>\n          <Switch>\n            <Route path=\"/blog/post\">\n              <BlogPost/>\n            </Route>\n            <Route path=\"/new/problem\">\n              <ProblemNew/>\n            </Route>\n            <Route path=\"/solve/problems\">\n              <ProblemSolve/>\n            </Route>\n            <Route path=\"/solve/today_problems\">\n              <ProblemTodaySolve/>\n            </Route>\n            <Route path=\"/new/category\">\n              <CategoryNew/>\n            </Route>\n            <Route path=\"/edit/category\">\n              <CategoryEdit/>\n            </Route>\n            <Route path=\"/new/book\">\n              <BookNew/>\n            </Route>\n             <Route path=\"/\">\n               <Content\n                 className=\"site-layout-background\"\n                 style={{\n                   padding: 24,\n                   margin: 0,\n                   minHeight: 280,\n                 }}\n               >\n                 Content\n               </Content>\n             </Route>\n           </Switch>\n          </Layout>\n        </Layout>\n      </Layout>\n    </Router>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}